{"ast":null,"code":"import _toConsumableArray from\"/Users/francisco/Documents/Personal/francismaria.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/francisco/Documents/Personal/francismaria.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{useEffect,useState}from'react';import'./FilterModal.css';function FilterModal(props){var filtersMap=props.filtersInfo;var filtersTypesMap=props.filtersTypes;var _useState=useState(_toConsumableArray(props.activeFilters)),_useState2=_slicedToArray(_useState,2),localFilters=_useState2[0],setLocalFilters=_useState2[1];var setLocalFiltersAsParent=function setLocalFiltersAsParent(){return setLocalFilters(_toConsumableArray(props.activeFilters));};// Triggers whenever the props.activefilters change - user removed filters - (because react doesn't use deep equality for this hook, json stringify (string) is used instead\nuseEffect(function(){return setLocalFiltersAsParent();},[JSON.stringify(_toConsumableArray(props.activeFilters))]);var onCancel=function onCancel(){setLocalFiltersAsParent();props.onClose();};var onClickOutsideModal=function onClickOutsideModal(e){if(e.target.classList.contains('modalContainer'))onCancel();};var onApply=function onApply(){props.onSubmit(localFilters);props.onClose();};var onCheckboxSelectionChange=function onCheckboxSelectionChange(e){var selected=e.target.checked;var filterId=e.target.id;var arr=localFilters;if(selected){arr.push(filterId);}else{arr=arr.filter(function(id){return id!==filterId;});}setLocalFilters(_toConsumableArray(arr));};var filterConstruction=function filterConstruction(id){return/*#__PURE__*/_jsxs(\"div\",{className:\"checkboxContainer\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"checkboxLabel\",children:filtersMap[id].label},\"\".concat(id,\"-label\")),/*#__PURE__*/_jsx(\"input\",{id:id,type:\"checkbox\",checked:localFilters.includes(id)?true:false,onChange:onCheckboxSelectionChange})]},\"\".concat(id,\"-checkbox\"));};var filterGroupConstruction=function filterGroupConstruction(groupTitle,filterTypes){return/*#__PURE__*/_jsxs(\"div\",{className:\"filterSelectionGroup\",children:[/*#__PURE__*/_jsx(\"h5\",{children:groupTitle}),filterTypes.map(function(id){return filterConstruction(id);})]});};return/*#__PURE__*/_jsx(_Fragment,{children:props.visible?/*#__PURE__*/_jsx(\"section\",{id:\"filterModal\",className:\"full-cover-modal\",children:/*#__PURE__*/_jsx(\"section\",{className:\"modalContainer full-cover-modal\",onClick:function onClick(e){return onClickOutsideModal(e);},children:/*#__PURE__*/_jsxs(\"section\",{className:\"modalBox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modalTitle\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Filter Selection\"}),/*#__PURE__*/_jsx(\"div\",{className:\"closeIcon\",onClick:onCancel,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modalSelection\",children:[filterGroupConstruction('Languages',filtersTypesMap.LANGUAGES),filterGroupConstruction('Frameworks',filtersTypesMap.FRAMEWORKS),filterGroupConstruction('Types',filtersTypesMap.TYPES),filterGroupConstruction('Dates',filtersTypesMap.DATES),filterGroupConstruction('Institutions',filtersTypesMap.INSTITUTIONS)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modalConfirmation\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"modalCancelBtn\",onClick:onCancel,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"modalApplyBtn\",onClick:onApply,children:\"Apply\"})]})]})})}):null});}export default FilterModal;","map":{"version":3,"sources":["/Users/francisco/Documents/Personal/francismaria.github.io/src/luxury/projects/filter/FilterModal.jsx"],"names":["useEffect","useState","FilterModal","props","filtersMap","filtersInfo","filtersTypesMap","filtersTypes","activeFilters","localFilters","setLocalFilters","setLocalFiltersAsParent","JSON","stringify","onCancel","onClose","onClickOutsideModal","e","target","classList","contains","onApply","onSubmit","onCheckboxSelectionChange","selected","checked","filterId","id","arr","push","filter","filterConstruction","label","includes","filterGroupConstruction","groupTitle","filterTypes","map","visible","LANGUAGES","FRAMEWORKS","TYPES","DATES","INSTITUTIONS"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport './FilterModal.css'\n\nfunction FilterModal(props) {\n  const filtersMap = props.filtersInfo;\n  const filtersTypesMap = props.filtersTypes;\n  const [ localFilters, setLocalFilters ] = useState([...props.activeFilters]);\n\n  const setLocalFiltersAsParent = () =>\n    setLocalFilters([...props.activeFilters]);\n\n  // Triggers whenever the props.activefilters change - user removed filters - (because react doesn't use deep equality for this hook, json stringify (string) is used instead\n  useEffect(() => setLocalFiltersAsParent(),\n    [JSON.stringify([...props.activeFilters])],\n  );\n\n  const onCancel = () =>  {\n    setLocalFiltersAsParent();\n    props.onClose();\n  }\n\n  const onClickOutsideModal = (e) => {\n    if(e.target.classList.contains('modalContainer'))\n      onCancel();     \n  }\n\n  const onApply = () => {\n    props.onSubmit(localFilters);\n    props.onClose();\n  }\n\n  const onCheckboxSelectionChange = (e) => {\n    const selected = e.target.checked;\n    const filterId = e.target.id;\n    let arr = localFilters;\n\n    if(selected) {\n      arr.push(filterId);\n    } else {\n      arr = arr.filter(id => id !== filterId);\n    }\n    setLocalFilters([...arr])\n  }\n\n  const filterConstruction = (id) => (\n    <div className='checkboxContainer' key={`${id}-checkbox`}>\n      <label className='checkboxLabel' key={`${id}-label`}>{filtersMap[id].label}</label>\n      <input id={id} type='checkbox' checked={localFilters.includes(id) ? true : false} onChange={onCheckboxSelectionChange}/>\n    </div>);\n\n  const filterGroupConstruction = (groupTitle, filterTypes) => (\n    <div className='filterSelectionGroup'>\n      <h5>{groupTitle}</h5>\n      {filterTypes.map(id => filterConstruction(id))}\n    </div>);\n\n  return (\n    <>\n      {props.visible ? \n        <section id='filterModal' className='full-cover-modal'>\n          <section className='modalContainer full-cover-modal' onClick={(e) => onClickOutsideModal(e)}>\n            <section className='modalBox'>\n              <div className='modalTitle'>\n                <h3>Filter Selection</h3>\n                <div className='closeIcon' onClick={onCancel}>\n                  <i className=\"fas fa-times\"></i>\n                </div>\n              </div>\n              <div className='modalSelection'>\n                {filterGroupConstruction('Languages', filtersTypesMap.LANGUAGES)}\n                {filterGroupConstruction('Frameworks', filtersTypesMap.FRAMEWORKS)}\n                {filterGroupConstruction('Types', filtersTypesMap.TYPES)}\n                {filterGroupConstruction('Dates', filtersTypesMap.DATES)}\n                {filterGroupConstruction('Institutions', filtersTypesMap.INSTITUTIONS)}\n              </div>\n              <div className='modalConfirmation'>\n                <button className='modalCancelBtn' onClick={onCancel}>Cancel</button>\n                <button type='submit' className='modalApplyBtn' onClick={onApply}>Apply</button>\n              </div>\n            </section>\n          </section>\n        </section>\n        : null}\n    </>\n  )\n}\n\nexport default FilterModal;"]},"metadata":{},"sourceType":"module"}